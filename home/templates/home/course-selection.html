{% extends "home/base.html" %}

{% load shopping_cart_tags %}

{% block content %}
<script>
function getCourse()
{
	
	var key = document.getElementById("search_code").value;
	var node1 = document.getElementById('course_details_exact');
	var node2 = document.getElementById('course_name_exact');
	var node3 = document.getElementById('shopping_cart_exact');
	
	{% for course in allcourses %}
		var code = "{{course.course_code}}";
		var name = "{{course.course_name}}";
		var id = "{{course.course_id}}";
		if(code == key){	
			node1.innerHTML='<a href="/course-details/{{course.course_code}}" class="btn btn-default btn-block" data-toggle="tooltip" title="Click for details">{{course.course_code}}</a>';
			node2.innerHTML=name;
			node3.innerHTML='<form action="/shopping-cart/do-add" method="post"><input type="hidden" name="course" value="{{ course.course_id }}"><a><button class="btn btn-block" type="submit"> Add to wishlist</button></a></form>';
			}
	{% endfor %}
	
	var elems = document.getElementsByClassName('col-md-12 table-bordered');
	for(var i = 0; i < elems.length; i++) {
		elems[i].className = 'col-md-12 table-bordered hide';
 	}
	document.getElementById('course_exact').className='col-md-12 table-bordered';
	
	var buttons = document.getElementsByClassName('btn btn-default btn-block active');
	for(var i = 0; i < buttons.length; i++) {
		buttons[i].className = 'btn btn-default btn-block';
 	}
}
</script>

<div class="container">
	<h1>Department Of Engineering & Computer Science <small>Concordia University</small></h1>
	<hr>
	<div class="row">
		<div class="col-md-3">
			<div class="row">
			<div class="col-md-12"><h2 class="inline">Programs</h2></div>
			</div>
			<div class="row">
			</br></br>
				<div class="col-md-12">
					<table class="table table-bordered">
						<tr>
							{% if 'BLDG' in courses.0.course_code %}
							<th><a href="/course-selection/BLDG" class="btn btn-default btn-block active">Building Engineering</a></th>
							{% else %}
							<th><a href="/course-selection/BLDG" class="btn btn-default btn-block">Building Engineering</a></th>
							{% endif %}
						</tr>
						<tr>
							{% if 'CIVI' in courses.0.course_code %}
							<th><a href="/course-selection/CIVI" class="btn btn-default btn-block active">Civil Engineering</a></th>
							{% else %}
							<th><a href="/course-selection/CIVI" class="btn btn-default btn-block">Civil Engineering</a></th>
							{% endif %}
						</tr>
						<tr>
							{% if 'COEN' in courses.0.course_code %}
							<th><a href="/course-selection/COEN" class="btn btn-default btn-block active">Computer Engineering</a></th>
							{% else %}
							<th><a href="/course-selection/COEN" class="btn btn-default btn-block">Computer Engineering</a></th>
							{% endif %}
						</tr>
						<tr>
							{% if 'COMP' in courses.0.course_code %}
							<th><a href="/course-selection/COMP" class="btn btn-default btn-block active">Computer Science</a></th>
							{% else %}
							<th><a href="/course-selection/COMP" class="btn btn-default btn-block">Computer Science</a></th>
							{% endif %}
						</tr>
						<tr>
							{% if 'ELEC' in courses.0.course_code %}
							<th><a href="/course-selection/ELEC" class="btn btn-default btn-block active">Electrical Engineering</a></th>
							{% else %}
							<th><a href="/course-selection/ELEC" class="btn btn-default btn-block">Electrical Engineering</a></th>
							{% endif %}
						</tr>
						<tr>
							{% if 'INDU' in courses.0.course_code %}
							<th><a href="/course-selection/INDU" class="btn btn-default btn-block active">Industrial Engineering</a></th>
							{% else %}
							<th><a href="/course-selection/INDU" class="btn btn-default btn-block">Industrial Engineering</a></th>
							{% endif %}
						</tr>
						<tr>
							{% if 'MECH' in courses.0.course_code %}
							<th><a href="/course-selection/MECH" class="btn btn-default btn-block active">Mechanical Engineering</a></th>
							{% else %}
							<th><a href="/course-selection/MECH" class="btn btn-default btn-block">Mechanical Engineering</a></th>
							{% endif %}
						</tr>
						<tr>
							{% if 'SOEN' in courses.0.course_code %}
							<th><a href="/course-selection/SOEN" class="btn btn-default btn-block active">Software Engineering</a></th>
							{% else %}
							<th><a href="/course-selection/SOEN" class="btn btn-default btn-block">Software Engineering</a></th>
							{% endif %}
						</tr>
					</table>
				</div>
			</div>
		</div>
		<div class="col-md-9">
			<div class="row">
			<div class="col-md-5"><h2 class="inline">Courses</h2></div>
			<div class="col-md-7">
				  <nav class="navbar navbar-default" role="navigation">
				  <div class="container-fluid">

					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					  <ul class="nav navbar-nav">		
						<li class="dropdown">
						  <a href="#" class="dropdown-toggle" data-toggle="dropdown">More <b class="caret"></b></a>
						  <ul class="dropdown-menu">
							  <li role="presentation" class="dropdown-header">Courses for</li>
							  <li><a href="/course-selection/ENGR">Engineering</a></li>
							  <li><a href="/course-selection/BCEE">Building, Civil and Environmental Engineering</a></li>
							  <li><a href="/course-selection/IADI">AeroSpace Industry</a></li>
						  </ul>
						</li>
					  </ul>
					  <form class="navbar-form navbar-left" role="search">
						<div class="form-group">
						  <input type="text" id="search_code" class="form-control" placeholder="Course Code">
						</div>
						<button type="button" class="btn btn-default" onclick="getCourse()">Search</button>
					  </form>
					</div><!-- /.navbar-collapse -->
				  </div><!-- /.container-fluid -->
				</nav>
			</div>
			</div>
			<div class="row">
				<div style="height:410px;background-color:#f9f9f9;" id="course_exact" class="col-md-12 table-bordered hide">
				<table class="table table-striped table-bordered">
						<tr>
						<td id="course_details_exact"></td>
						<td id="course_name_exact"></td>
						<td id="shopping_cart_exact"></td>
						</tr>
					</table>	
				</div>
				{% if not courses %}
				<div style="height:410px;background-color:#f9f9f9;" class="col-md-12 table-bordered">
					<h3> Please select a program to view the corresponding course list </h3>
				</div>
				{% else %}
				<div style="height:410px;overflow-y:scroll;" class="col-md-12 table-bordered">
					<table class="table table-striped">
						{% for course in courses %}
						<tr>
						<td><a href="/course-details/{{course.course_code}}" class="btn btn-default btn-block" data-toggle="tooltip" title="Click for details">{{course.course_code}}</a></td>
						<td>{{course.course_name}}</td>
						<td>
               {% shopping_cart_add_button course.course_id %}
						</td>
						</tr>
						{% endfor %}
					</table>	
				</div>
				{% endif %}
			</div>
		</div>
	</div>
</div>
{% endblock %}
