{% extends "home/base.html" %}

{% load shopping_cart_tags %}

{% block title %}Course Selection Page{% endblock %}

{% block content %}
<script>
function handleEnter(){
var code = document.getElementById('search_code').value;
var code = code.toUpperCase();
if(code != ""){
	window.location.href = "/course-selection/"+code;
	}
}
function searchCode(){
	var code = document.getElementById('search_code').value;
	var code = code.toUpperCase();
	if(code != ""){
		document.getElementById('index').href="/course-selection/"+code;
		}
}
</script>

<div class="container">
	<h1>Department Of Engineering & Computer Science <small>Concordia University</small></h1>
	<p id="demo"></p>
	<hr>
	<div class="row">
		<div class="col-md-2">
			<div class="row">
			<div class="col-md-12"><h2 class="inline">Programs</h2></div>
			</div>
			<div class="row">
			</br></br>
				<div class="col-md-12">
					<table class="table table-bordered">
						<tr>
							{% if 'BLDG' in courses.0.course_code %}
							<th><a href="/course-selection/BLDG" class="btn btn-default btn-block active">Building Engineering</a></th>
							{% else %}
							<th><a href="/course-selection/BLDG" class="btn btn-default btn-block">Building Engineering</a></th>
							{% endif %}
						</tr>
						<tr>
							{% if 'CIVI' in courses.0.course_code %}
							<th><a href="/course-selection/CIVI" class="btn btn-default btn-block active">Civil Engineering</a></th>
							{% else %}
							<th><a href="/course-selection/CIVI" class="btn btn-default btn-block">Civil Engineering</a></th>
							{% endif %}
						</tr>
						<tr>
							{% if 'COEN' in courses.0.course_code %}
							<th><a href="/course-selection/COEN" class="btn btn-default btn-block active">Computer Engineering</a></th>
							{% else %}
							<th><a href="/course-selection/COEN" class="btn btn-default btn-block">Computer Engineering</a></th>
							{% endif %}
						</tr>
						<tr>
							{% if 'COMP' in courses.0.course_code %}
							<th><a href="/course-selection/COMP" class="btn btn-default btn-block active">Computer Science</a></th>
							{% else %}
							<th><a href="/course-selection/COMP" class="btn btn-default btn-block">Computer Science</a></th>
							{% endif %}
						</tr>
						<tr>
							{% if 'ELEC' in courses.0.course_code %}
							<th><a href="/course-selection/ELEC" class="btn btn-default btn-block active">Electrical Engineering</a></th>
							{% else %}
							<th><a href="/course-selection/ELEC" class="btn btn-default btn-block">Electrical Engineering</a></th>
							{% endif %}
						</tr>
						<tr>
							{% if 'INDU' in courses.0.course_code %}
							<th><a href="/course-selection/INDU" class="btn btn-default btn-block active">Industrial Engineering</a></th>
							{% else %}
							<th><a href="/course-selection/INDU" class="btn btn-default btn-block">Industrial Engineering</a></th>
							{% endif %}
						</tr>
						<tr>
							{% if 'MECH' in courses.0.course_code %}
							<th><a href="/course-selection/MECH" class="btn btn-default btn-block active">Mechanical Engineering</a></th>
							{% else %}
							<th><a href="/course-selection/MECH" class="btn btn-default btn-block">Mechanical Engineering</a></th>
							{% endif %}
						</tr>
						<tr>
							{% if 'SOEN' in courses.0.course_code %}
							<th><a href="/course-selection/SOEN" class="btn btn-default btn-block active">Software Engineering</a></th>
							{% else %}
							<th><a href="/course-selection/SOEN" class="btn btn-default btn-block">Software Engineering</a></th>
							{% endif %}
						</tr>
					</table>
				</div>
			</div>
		</div>
		<div class="col-md-8">
			<div class="row">
			<div class="col-md-5"><h2 class="inline">Courses</h2></div>
			<div class="col-md-7">
				  <nav class="navbar navbar-default" role="navigation">
				  <div class="container-fluid">
					<div class="navbar-header">
				  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				  </button>
				</div>
					<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					  <ul class="nav navbar-nav">		
						<li class="dropdown">
						  <a href="#" class="dropdown-toggle" data-toggle="dropdown">More <b class="caret"></b></a>
						  <ul class="dropdown-menu">
							  <li role="presentation" class="dropdown-header">Courses for</li>
							  <li><a href="/course-selection/ENGR">Engineering</a></li>
							  <li><a href="/course-selection/BCEE">Building, Civil and Environmental Engineering</a></li>
							  <li><a href="/course-selection/IADI">Aerospace Industry</a></li>
						  </ul>
						</li>
					  </ul>
					  <div class="navbar-form navbar-left">
						<div class="form-group">
						  <input type="text" id="search_code" onkeypress="{if (event.keyCode==13) handleEnter()}" class="form-control" placeholder="Course Code">
						</div>
						<a id="index" class="btn btn-default" href="#" onclick="searchCode()">Search</a>
					  </div>
					</div>
				  </div>
				</nav>
			</div>
			</div>
			<div class="row">
			{% ifequal courses|length 1 %}
				<div style="height:410px;background-color:#f9f9f9;" id="course_exact" class="col-md-12 table-bordered">
				<table class="table table-striped table-bordered">
						<tr>
						<td id="course_details_exact"><a href="/course-details/{{courses.0.course_code}}" class="btn btn-default btn-block" data-toggle="tooltip" title="Click for details">{{courses.0.course_code}}</a></td>
						<td id="course_name_exact">{{courses.0.course_name}}</td>
						<td id="shopping_cart_exact"><a href="#" onclick="setTimeout(window.document.location='',10000);">{% shopping_cart_add_button courses.0.course_id %}</a></td>
						</tr>
					</table>	
				</div>
			{% endifequal %}
				{% if not courses %}
				<div style="height:410px;background-color:#f9f9f9;" class="col-md-12 table-bordered">
					<h3> Please select a program to view the corresponding course list </h3>
				</div>
				{% endif %}
				{% if courses|length > 1 %}
				<div style="height:410px;overflow-y:scroll;" class="col-md-12 table-bordered">
					<table class="table table-striped">
						{% for course in courses %}
						<tr>
						<td><a href="/course-details/{{course.course_code}}" class="btn btn-default btn-block" data-toggle="tooltip" title="Click for details">{{course.course_code}}</a></td>
						<td>{{course.course_name}}</td>
						<td><a href="#" onclick="setTimeout(window.document.location='',10000);">{% shopping_cart_add_button course.course_id %}</a></td>
						</tr>
						{% endfor %}
					</table>	
				</div>
				{% endif %}
			</div>
		</div>
		<div class="col-md-2">
			<h3 class="inline"> Current Wishlist </h3>
			</br></br>
			<table class="table table-striped table-bordered">
			{% if shoppingCart %}
				{% for course in shoppingCart %}
					<tr>
						<td><b>{{course.course_code}} </b> -
						{{course.course_name}}</td>
					</tr>
				{% endfor %}
			{% else %}
				<tr>
					<td>Your wishlist is currently empty</td>
				</tr>
			{% endif %}
			</table>
		</div>
	</div>
</div>
{% endblock %}
