{% extends "home/base.html" %}

{% load staticfiles %}
{% load shopping_cart_tags %}

{% block title %}Shopping Cart{% endblock %}

{% block content %}

<div class="row">
   <div class="col-md-4">
      <div class="container" id="wishlist">
      <table class="table">
      <colgroup>
         <col id="code-col"></col>
         <col id="title-col"></col>
         <col id="button-col"></col>
      </colgroup>
      <tbody>
      {% for course in courses %}
      <tr>
         <td><h4>{{course.course.course_code}}</h4></td>
         <td><h4>{{course.course.course_name}}</h4></td>
      <td>
         {% shopping_cart_add_button course.course.course_id %}
      </td>
      </tr>
         {% for section in course.sections %}
            <tr>
               <td>
                  {{section.term.term_name }}
               </td>
               <td>
                  {{ section.lecture.section  }}
                  {{ section.tutorial.section }}
                  {{ section.lab.section      }}
               </td>
               <td>
                  <button class="btn btn-success btn-reg" style="width:16px;height16px;" data-id="{{ section.row_id }}">+</button>
               </td>
            </tr>
         {% endfor %}
      {% endfor %}
      </tbody>
      </table>
      </div>
   </div>
  <div class="col-md-8">

      <div class="container scheduleContainer wishlist-sched">
         <table class="table table-striped table-bordered fixedWidth" id="calendar">
            <thead>
            </thead>
            <tbody>
            </tbody>
         </table>
      </div>
   </div>
</div>

<script src="{% static "js/schedule.js" %}" type="text/javascript" ></script>

<script type="text/javascript">
   $(document).ready(function(){
      
      $(".btn-reg").bind("click", function(){

         $.ajax("/register/do-add",
         {
            method:"POST",
            data:{id:$(this).data("id")},
            success:function(data){
               alert("Success: " + data.success);
            },
            error:function(data){
               alert("Error: " + data.responseJSON.error);
            }
         });

      });

   });
</script>

{% endblock %}
